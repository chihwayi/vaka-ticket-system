<div class="auth-container">
  <div class="auth-form">
    <mat-card class="auth-card">
      <mat-card-header>
        <div mat-card-avatar class="auth-header-image">
          <mat-icon>person_add</mat-icon>
        </div>
        <mat-card-title>ZimSmart Villages</mat-card-title>
        <mat-card-subtitle>Create an Account</mat-card-subtitle>
      </mat-card-header>
      
      <mat-card-content>
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
          <div class="form-field">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Username</mat-label>
              <input matInput formControlName="username" placeholder="Enter username">
              <mat-icon matPrefix>person</mat-icon>
              <mat-error *ngIf="f['username'].errors?.['required']">Username is required</mat-error>
              <mat-error *ngIf="f['username'].errors?.['minlength']">Username must be at least 3 characters</mat-error>
              <mat-error *ngIf="f['username'].errors?.['maxlength']">Username cannot exceed 20 characters</mat-error>
            </mat-form-field>
          </div>
          
          <div class="form-field">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Email</mat-label>
              <input matInput formControlName="email" placeholder="Enter email" type="email">
              <mat-icon matPrefix>email</mat-icon>
              <mat-error *ngIf="f['email'].errors?.['required']">Email is required</mat-error>
              <mat-error *ngIf="f['email'].errors?.['email']">Please enter a valid email address</mat-error>
            </mat-form-field>
          </div>
          
          <div class="form-field">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Full Name</mat-label>
              <input matInput formControlName="fullName" placeholder="Enter full name">
              <mat-icon matPrefix>badge</mat-icon>
              <mat-error *ngIf="f['fullName'].errors?.['required']">Full name is required</mat-error>
              <mat-error *ngIf="f['fullName'].errors?.['minlength']">Full name must be at least 3 characters</mat-error>
              <mat-error *ngIf="f['fullName'].errors?.['maxlength']">Full name cannot exceed 50 characters</mat-error>
            </mat-form-field>
          </div>
          
          <div class="form-field">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Password</mat-label>
              <input 
                matInput 
                [type]="hidePassword ? 'password' : 'text'" 
                formControlName="password" 
                placeholder="Enter password"
              >
              <mat-icon matPrefix>lock</mat-icon>
              <button 
                type="button" 
                mat-icon-button 
                matSuffix 
                (click)="hidePassword = !hidePassword"
                [attr.aria-label]="'Hide password'" 
                [attr.aria-pressed]="hidePassword"
              >
                <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
              <mat-error *ngIf="f['password'].errors?.['required']">Password is required</mat-error>
              <mat-error *ngIf="f['password'].errors?.['minlength']">Password must be at least 6 characters</mat-error>
            </mat-form-field>
          </div>
          
          <div class="form-field">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Confirm Password</mat-label>
              <input 
                matInput 
                [type]="hideConfirmPassword ? 'password' : 'text'" 
                formControlName="confirmPassword" 
                placeholder="Confirm password"
              >
              <mat-icon matPrefix>lock</mat-icon>
              <button 
                type="button" 
                mat-icon-button 
                matSuffix 
                (click)="hideConfirmPassword = !hideConfirmPassword"
                [attr.aria-label]="'Hide password'" 
                [attr.aria-pressed]="hideConfirmPassword"
              >
                <mat-icon>{{hideConfirmPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
              <mat-error *ngIf="f['confirmPassword'].errors?.['required']">Confirm password is required</mat-error>
              <mat-error *ngIf="f['confirmPassword'].errors?.['passwordMismatch']">Passwords must match</mat-error>
            </mat-form-field>
          </div>
          
          <div class="button-container">
            <button 
              type="submit" 
              mat-raised-button 
              color="primary" 
              class="auth-button" 
              [disabled]="registerForm.invalid || loading"
            >
              <mat-spinner diameter="20" *ngIf="loading"></mat-spinner>
              <span *ngIf="!loading">Register</span>
            </button>
          </div>
        </form>
      </mat-card-content>
      
      <mat-card-actions class="auth-link">
        <p>Already have an account? <a routerLink="/auth/login">Login here</a></p>
      </mat-card-actions>
    </mat-card>
  </div>
</div>